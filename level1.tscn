[gd_scene format=4 uid="uid://dk1pv1riwfiun"]

[ext_resource type="Material" uid="uid://mcc0jh4nykbh" path="res://graphics/bettergrass.tres" id="3_3l65w"]
[ext_resource type="MeshLibrary" uid="uid://byut0cfnq278c" path="res://graphics/tiles.meshlib" id="3_ootpb"]
[ext_resource type="Script" uid="uid://c7lkp2fsiscnm" path="res://addons/proton_scatter/src/scatter.gd" id="4_rjtee"]
[ext_resource type="Script" uid="uid://bx366ina6h3uc" path="res://addons/proton_scatter/src/stack/modifier_stack.gd" id="5_1idop"]
[ext_resource type="Script" uid="uid://deb51sq4wixf1" path="res://addons/proton_scatter/src/modifiers/base_modifier.gd" id="6_beq0j"]
[ext_resource type="Script" uid="uid://bko4hkcfyijy4" path="res://addons/proton_scatter/src/modifiers/create_inside_random.gd" id="7_nauge"]
[ext_resource type="Script" uid="uid://ceoiqn85s8y3n" path="res://addons/proton_scatter/src/modifiers/randomize_transforms.gd" id="8_ycv2e"]
[ext_resource type="Script" uid="uid://bl6cptw2phlps" path="res://addons/proton_scatter/src/modifiers/project_on_geometry.gd" id="10_6e4cv"]
[ext_resource type="Script" uid="uid://c27owo12yq8x1" path="res://addons/proton_scatter/src/modifiers/remove_outside_shapes.gd" id="11_rjtee"]
[ext_resource type="Script" uid="uid://di24sjmc1irhb" path="res://addons/proton_scatter/src/scatter_item.gd" id="11_uuy0h"]
[ext_resource type="Script" uid="uid://bdvb7qxv7w1nh" path="res://addons/proton_scatter/src/scatter_shape.gd" id="12_52iny"]
[ext_resource type="Script" uid="uid://mw0r1jq0ga71" path="res://addons/proton_scatter/src/shapes/box_shape.gd" id="13_nxqqj"]
[ext_resource type="Texture2D" uid="uid://b4ujygawijgnt" path="res://graphics/concrete_floor_worn_001_diff_2k.png" id="17_nauge"]
[ext_resource type="Texture2D" uid="uid://bj4jfmibaygr7" path="res://graphics/concrete_floor_worn_001_nor_gl_2k.png" id="18_ycv2e"]
[ext_resource type="Texture2D" uid="uid://br375lvg24kmi" path="res://graphics/concrete_floor_worn_001_rough_2k.png" id="19_ycv2e"]

[sub_resource type="PlaneMesh" id="PlaneMesh_dopym"]
material = ExtResource("3_3l65w")
size = Vector2(50, 50)

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_dopym"]

[sub_resource type="Resource" id="Resource_nauge"]
script = ExtResource("7_nauge")
amount = 5000
restrict_height = true
reference_frame = 1

[sub_resource type="Resource" id="Resource_ycv2e"]
script = ExtResource("8_ycv2e")
rotation = Vector3(10, 180, 10)
scale = Vector3(0.5, 0.5, 0.5)
reference_frame = 2

[sub_resource type="Resource" id="Resource_c5gc3"]
script = ExtResource("10_6e4cv")
ray_length = 5.0
ray_offset = 5.0
remove_points_on_miss = false
enabled = false

[sub_resource type="Resource" id="Resource_6e4cv"]
script = ExtResource("11_rjtee")

[sub_resource type="Resource" id="Resource_52iny"]
script = ExtResource("5_1idop")
stack = Array[ExtResource("6_beq0j")]([SubResource("Resource_nauge"), SubResource("Resource_ycv2e"), SubResource("Resource_c5gc3"), SubResource("Resource_6e4cv")])

[sub_resource type="Resource" id="Resource_beq0j"]
script = ExtResource("13_nxqqj")
size = Vector3(47, 1, 47)
metadata/_custom_type_script = "uid://mw0r1jq0ga71"

[sub_resource type="Resource" id="Resource_uuy0h"]
script = ExtResource("13_nxqqj")
size = Vector3(22, 1, 22)
metadata/_custom_type_script = "uid://mw0r1jq0ga71"

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6e4cv"]
albedo_texture = ExtResource("17_nauge")
roughness_texture = ExtResource("19_ycv2e")
roughness_texture_channel = 4
normal_enabled = true
normal_scale = 2.0
normal_texture = ExtResource("18_ycv2e")
uv1_scale = Vector3(15, 15, 15)

[sub_resource type="ArrayMesh" id="ArrayMesh_uuy0h"]
_surfaces = [{
"aabb": AABB(-5.25589, -0.122566, -5.25589, 10.51178, 0.061910998, 10.51178),
"format": 34896613377,
"index_count": 36,
"index_data": PackedByteArray("AAABAAIAAgADAAAAAgABAAQAAAADAAUAAAAFAAEAAgAGAAMABgAFAAMABAAGAAIAAQAFAAcAAQAHAAQABwAFAAYABAAHAAYA"),
"name": "Material",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 8,
"vertex_data": PackedByteArray("gAT//4AEAAB++///gAQAAIAE//9++wAAAAAAAP//AAB++///fvsAAAAAAAAAAAAA//8AAP//AAD//wAAAAAAAA==")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_52iny"]
_surfaces = [{
"aabb": AABB(-5.25589, -0.122566, -5.25589, 10.51178, 0.061910998, 10.51178),
"attribute_data": PackedByteArray("/9//f/+f/3//3/8//5//P/+f/z//X/8//58AAP9fAAD/n////1////+f/7//X/+//1//f/8f/3//X/8//x//P/+f/3//X/9//5//P/9f/z//n/+//1//v/+f/3//X/9/"),
"format": 34896613399,
"index_count": 36,
"index_data": PackedByteArray("AAABAAIAAgABAAMABAAFAAYABgAFAAcACAAJAAoACgAJAAsADAANAA4ADgANAA8AEAARABIAEgARABMAFAAVABYAFgAVABcA"),
"material": SubResource("StandardMaterial3D_6e4cv"),
"name": "Material",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 24,
"vertex_data": PackedByteArray("gAT//4AE//9++///gAT//4AE//9++///fvv//377//9++///fvto5f//AAD//6XkgAT//377lbsAAAAA//9su4AE//9+++7KAAAAAP//fsqABP//gATVwQAAAAAAAObB//8AAAAA/78AAAAAAAD/v///AAD///+/AAAAAP///79++///gAR98///AAAAACr0fvv//3771+H//wAA//+g4YAE//+ABNXRAAAAAAAAGdJ++///gATX7P//AAAAAAbt/3//v/9//7//f/+//3//v5jShBPS0g4UtOTJPtrkJD/K7zBJfPA3SnvFWqkTxX+pAAD/fwAA/38AAP9/AAD/fxCct66GmxSv8cJBDQbDfw2XyaGfk8g4oNKZaLuXmYu7")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_uuy0h")

[node name="Node3D" type="Node3D" unique_id=72697041]

[node name="Ground" type="MeshInstance3D" parent="." unique_id=1383722077]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0006608963, 0, 0.025349617)
mesh = SubResource("PlaneMesh_dopym")

[node name="StaticBody3D" type="StaticBody3D" parent="Ground" unique_id=1998009336]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ground/StaticBody3D" unique_id=43137694]
shape = SubResource("WorldBoundaryShape3D_dopym")

[node name="ProtonScatter" type="Node3D" parent="Ground" unique_id=905708311]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.095, 0)
script = ExtResource("4_rjtee")
modifier_stack = SubResource("Resource_52iny")
Performance/use_chunks = true
Performance/chunk_dimensions = Vector3(15, 15, 15)
metadata/_custom_type_script = "uid://c7lkp2fsiscnm"

[node name="ScatterItem" type="Node3D" parent="Ground/ProtonScatter" unique_id=1293806924]
visible = false
script = ExtResource("11_uuy0h")
source_scale_multiplier = 0.4
path = "uid://srrh4hng0pnf"

[node name="ScatterShape" type="Node3D" parent="Ground/ProtonScatter" unique_id=1279580026]
transform = Transform3D(1, 0, -2.98023e-08, 0, 1, 0, 2.98023e-08, 0, 1, 0, 0, 0)
visible = false
script = ExtResource("12_52iny")
shape = SubResource("Resource_beq0j")

[node name="ProtonScatterShape" type="Node3D" parent="Ground/ProtonScatter" unique_id=500026241]
visible = false
script = ExtResource("12_52iny")
negative = true
shape = SubResource("Resource_uuy0h")
metadata/_custom_type_script = "uid://bdvb7qxv7w1nh"

[node name="Walls" type="GridMap" parent="." unique_id=600930369]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
mesh_library = ExtResource("3_ootpb")
data = {
"cells": PackedInt32Array(65523, 65523, 0, 65523, 65524, 0, 65523, 65525, 0, 65523, 65526, 0, 65523, 65527, 0, 65523, 65528, 0, 65523, 65529, 0, 65523, 65530, 0, 65523, 65531, 0, 65523, 65533, 0, 65523, 65534, 0, 65523, 65532, 0, 65523, 65535, 0, 65523, 0, 0, 65523, 1, 0, 65523, 2, 0, 65523, 3, 0, 65523, 4, 0, 65523, 5, 0, 65523, 6, 0, 65523, 7, 0, 65523, 8, 0, 65523, 9, 0, 65523, 10, 0, 65523, 11, 0, 65523, 12, 0, 65524, 65523, 0, 65525, 65523, 0, 65526, 65523, 0, 65527, 65523, 0, 65528, 65523, 0, 65529, 65523, 0, 65530, 65523, 0, 65531, 65523, 0, 65532, 65523, 0, 65533, 65523, 0, 65534, 65523, 0, 65535, 65523, 0, 0, 65523, 0, 1, 65523, 0, 2, 65523, 0, 3, 65523, 0, 4, 65523, 0, 5, 65523, 0, 6, 65523, 0, 7, 65523, 0, 8, 65523, 0, 9, 65523, 0, 10, 65523, 0, 11, 65523, 0, 12, 65523, 0, 12, 65524, 0, 12, 65525, 0, 12, 65526, 0, 12, 65527, 0, 12, 65528, 0, 12, 65529, 0, 12, 65530, 0, 12, 65531, 0, 12, 65532, 0, 12, 65533, 0, 12, 65534, 0, 12, 65535, 0, 12, 0, 0, 12, 1, 0, 12, 2, 0, 12, 3, 0, 12, 4, 0, 12, 5, 0, 12, 6, 0, 12, 7, 0, 12, 8, 0, 12, 9, 0, 12, 10, 0, 12, 11, 0, 12, 12, 0, 65524, 12, 0, 65525, 12, 0, 65526, 12, 0, 65527, 12, 0, 65528, 12, 0, 65529, 12, 0, 65530, 12, 0, 65531, 12, 0, 65532, 12, 0, 65533, 12, 0, 65534, 12, 0, 65535, 12, 0, 0, 12, 0, 1, 12, 0, 2, 12, 0, 3, 12, 0, 4, 12, 0, 5, 12, 0, 6, 12, 0, 7, 12, 0, 8, 12, 0, 9, 12, 0, 10, 12, 0, 11, 12, 0, 65527, 65527, 0, 65528, 65527, 0, 65529, 65527, 0, 65530, 65527, 0, 65531, 65527, 0, 65532, 65527, 0, 65533, 65527, 0, 65534, 65527, 0, 65535, 65527, 0, 0, 65527, 0, 1, 65527, 0, 2, 65527, 0, 3, 65527, 0, 4, 65527, 0, 5, 65527, 0, 65527, 65528, 0, 65527, 65529, 0, 65527, 65530, 0, 65527, 65531, 0, 65527, 65532, 0, 65527, 65533, 0, 65527, 65534, 0, 65527, 65535, 0, 65527, 0, 0, 65527, 1, 0, 65527, 2, 0, 65527, 8, 0, 65528, 8, 0, 65529, 8, 0, 65530, 8, 0, 65531, 8, 0, 65532, 8, 0, 65533, 8, 0, 65534, 8, 0, 65535, 8, 0, 0, 8, 0, 1, 8, 0, 2, 8, 0, 3, 8, 0, 4, 8, 0, 5, 8, 0, 6, 8, 0, 7, 8, 0, 8, 8, 0, 65527, 3, 0, 65527, 4, 0, 65528, 4, 0, 65529, 4, 0, 65530, 4, 0, 6, 65527, 0, 7, 65527, 0, 8, 65527, 0, 8, 7, 0, 8, 6, 0, 8, 5, 0, 8, 4, 0, 8, 3, 0, 8, 2, 0, 8, 1, 0, 8, 0, 0, 8, 65535, 0, 8, 65534, 0, 8, 65533, 0, 8, 65532, 0, 8, 65531, 0, 7, 65531, 0, 6, 65531, 0, 5, 65531, 0, 65531, 65531, 0, 65532, 65531, 0, 65533, 65531, 0, 65533, 65532, 0, 65533, 65533, 0, 65532, 65533, 0, 65531, 65533, 0, 65531, 65532, 0, 2, 4, 0, 3, 4, 0, 4, 4, 0, 4, 3, 0, 4, 2, 0, 4, 1, 0, 3, 1, 0, 3, 2, 0, 2, 2, 0, 2, 1, 0, 1, 1, 0, 1, 2, 0, 1, 3, 0, 1, 4, 0, 2, 3, 0, 3, 3, 0, 65532, 65532, 0, 65531, 65534, 0, 65532, 65534, 0, 65533, 65534, 0, 65534, 65534, 0, 65534, 65533, 0, 65534, 65532, 0, 65534, 65531, 0, 4, 65531, 0, 65531, 4, 0)
}

[node name="Platform" type="MeshInstance3D" parent="." unique_id=1770569589]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0.255775, 0.0033769608)
mesh = SubResource("ArrayMesh_52iny")
