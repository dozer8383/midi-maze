[gd_scene format=3 uid="uid://dk1pv1riwfiun"]

[ext_resource type="Texture2D" uid="uid://tw63030c2ic6" path="res://graphics/sky.hdr" id="1_jwv3a"]
[ext_resource type="PackedScene" uid="uid://bo8givmxkoof3" path="res://player.tscn" id="2_dopym"]
[ext_resource type="Material" uid="uid://mcc0jh4nykbh" path="res://graphics/bettergrass.tres" id="3_3l65w"]
[ext_resource type="MeshLibrary" uid="uid://byut0cfnq278c" path="res://graphics/tiles.meshlib" id="3_ootpb"]
[ext_resource type="Script" uid="uid://c7lkp2fsiscnm" path="res://addons/proton_scatter/src/scatter.gd" id="4_rjtee"]
[ext_resource type="Script" uid="uid://bx366ina6h3uc" path="res://addons/proton_scatter/src/stack/modifier_stack.gd" id="5_1idop"]
[ext_resource type="PackedScene" uid="uid://ddktohi8d1wol" path="res://gui.tscn" id="5_v8kj3"]
[ext_resource type="Script" uid="uid://deb51sq4wixf1" path="res://addons/proton_scatter/src/modifiers/base_modifier.gd" id="6_beq0j"]
[ext_resource type="Script" uid="uid://bko4hkcfyijy4" path="res://addons/proton_scatter/src/modifiers/create_inside_random.gd" id="7_nauge"]
[ext_resource type="Script" uid="uid://ceoiqn85s8y3n" path="res://addons/proton_scatter/src/modifiers/randomize_transforms.gd" id="8_ycv2e"]
[ext_resource type="Script" uid="uid://clppxvwvts6t0" path="res://addons/proton_scatter/src/modifiers/relax.gd" id="9_c5gc3"]
[ext_resource type="Script" uid="uid://bl6cptw2phlps" path="res://addons/proton_scatter/src/modifiers/project_on_geometry.gd" id="10_6e4cv"]
[ext_resource type="Script" uid="uid://c27owo12yq8x1" path="res://addons/proton_scatter/src/modifiers/remove_outside_shapes.gd" id="11_rjtee"]
[ext_resource type="Script" uid="uid://di24sjmc1irhb" path="res://addons/proton_scatter/src/scatter_item.gd" id="11_uuy0h"]
[ext_resource type="Script" uid="uid://bdvb7qxv7w1nh" path="res://addons/proton_scatter/src/scatter_shape.gd" id="12_52iny"]
[ext_resource type="Script" uid="uid://mw0r1jq0ga71" path="res://addons/proton_scatter/src/shapes/box_shape.gd" id="13_nxqqj"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_dopym"]
panorama = ExtResource("1_jwv3a")
energy_multiplier = 0.6

[sub_resource type="Sky" id="Sky_ootpb"]
sky_material = SubResource("PanoramaSkyMaterial_dopym")

[sub_resource type="Environment" id="Environment_v38iq"]
background_mode = 2
sky = SubResource("Sky_ootpb")
ssr_enabled = true
ssr_max_steps = 32
ssr_fade_in = 0.17837915
ssr_fade_out = 0.15389256
ssao_enabled = true
glow_enabled = true
glow_levels/1 = 8.0
glow_levels/2 = 4.13
glow_levels/3 = 2.89
glow_normalized = true
glow_intensity = 0.1
fog_mode = 1
fog_light_color = Color(0.36176416, 0.48345393, 0.54106635, 1)
fog_sun_scatter = 0.06
fog_density = 1.0
volumetric_fog_density = 0.01

[sub_resource type="PlaneMesh" id="PlaneMesh_dopym"]
material = ExtResource("3_3l65w")
size = Vector2(50, 50)

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_dopym"]

[sub_resource type="Resource" id="Resource_7nyxr"]
script = ExtResource("7_nauge")
amount = 7000
restrict_height = true
reference_frame = 1

[sub_resource type="Resource" id="Resource_43lh3"]
script = ExtResource("8_ycv2e")
position = Vector3(0.15, 0.15, 0.15)
rotation = Vector3(0, 180, 0)
scale = Vector3(0.1, 0.1, 0.1)
reference_frame = 2

[sub_resource type="Resource" id="Resource_5le63"]
script = ExtResource("9_c5gc3")
offset_step = 0.2
consecutive_step_multiplier = 0.75
restrict_height = true

[sub_resource type="Resource" id="Resource_pieet"]
script = ExtResource("10_6e4cv")
ray_length = 5.0
ray_offset = 5.0
remove_points_on_miss = false
enabled = false

[sub_resource type="Resource" id="Resource_1idop"]
script = ExtResource("11_rjtee")

[sub_resource type="Resource" id="Resource_qiqrj"]
script = ExtResource("5_1idop")
stack = Array[ExtResource("6_beq0j")]([SubResource("Resource_7nyxr"), SubResource("Resource_43lh3"), SubResource("Resource_5le63"), SubResource("Resource_pieet"), SubResource("Resource_1idop")])

[sub_resource type="Resource" id="Resource_beq0j"]
script = ExtResource("13_nxqqj")
size = Vector3(47, 1, 47)
metadata/_custom_type_script = "uid://mw0r1jq0ga71"

[node name="Node3D" type="Node3D" unique_id=72697041]

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=437861117]
environment = SubResource("Environment_v38iq")

[node name="CharacterBody3D" parent="." unique_id=1033239538 instance=ExtResource("2_dopym")]

[node name="MeshInstance3D" type="MeshInstance3D" parent="." unique_id=1383722077]
mesh = SubResource("PlaneMesh_dopym")

[node name="StaticBody3D" type="StaticBody3D" parent="MeshInstance3D" unique_id=1998009336]

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshInstance3D/StaticBody3D" unique_id=43137694]
shape = SubResource("WorldBoundaryShape3D_dopym")

[node name="ProtonScatter" type="Node3D" parent="MeshInstance3D" unique_id=905708311]
script = ExtResource("4_rjtee")
modifier_stack = SubResource("Resource_qiqrj")
Performance/use_chunks = true
Performance/chunk_dimensions = Vector3(15, 15, 15)
metadata/_custom_type_script = "uid://c7lkp2fsiscnm"

[node name="ScatterItem" type="Node3D" parent="MeshInstance3D/ProtonScatter" unique_id=1293806924]
script = ExtResource("11_uuy0h")
source_scale_multiplier = 0.4
path = "uid://srrh4hng0pnf"

[node name="ScatterShape" type="Node3D" parent="MeshInstance3D/ProtonScatter" unique_id=1279580026]
transform = Transform3D(1, 0, -2.98023e-08, 0, 1, 0, 2.98023e-08, 0, 1, 0, 0, 0)
script = ExtResource("12_52iny")
shape = SubResource("Resource_beq0j")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." unique_id=222877919]
transform = Transform3D(0.5934189, -0.21374448, 0.7759944, 0, 0.9640954, 0.26555613, -0.8048938, -0.15758602, 0.57211244, 0, 0, 0)
shadow_enabled = true

[node name="GridMap" type="GridMap" parent="." unique_id=600930369]
mesh_library = ExtResource("3_ootpb")
data = {
"cells": PackedInt32Array(65523, 12, 0, 65523, 11, 0, 65523, 10, 0, 65523, 9, 0, 65523, 8, 0, 65523, 7, 0, 65523, 6, 0, 65523, 5, 0, 65523, 4, 0, 65523, 3, 0, 65523, 2, 0, 65523, 1, 0, 65523, 0, 0, 65523, 65535, 0, 65523, 65534, 0, 65523, 65533, 0, 65523, 65532, 0, 65523, 65531, 0, 65523, 65530, 0, 65523, 65529, 0, 65523, 65528, 0, 65523, 65527, 0, 65523, 65526, 0, 65523, 65525, 0, 65523, 65524, 0, 65523, 65523, 0, 65524, 65523, 0, 65525, 65523, 0, 65526, 65523, 0, 65527, 65523, 0, 65528, 65523, 0, 65529, 65523, 0, 65530, 65523, 0, 65531, 65523, 0, 65532, 65523, 0, 65533, 65523, 0, 65534, 65523, 0, 65535, 65523, 0, 0, 65523, 0, 1, 65523, 0, 2, 65523, 0, 3, 65523, 0, 4, 65523, 0, 5, 65523, 0, 6, 65523, 0, 7, 65523, 0, 8, 65523, 0, 9, 65523, 0, 10, 65523, 0, 11, 65523, 0, 12, 65523, 0, 12, 65524, 0, 12, 65525, 0, 12, 65526, 0, 12, 65527, 0, 12, 65528, 0, 12, 65529, 0, 12, 65530, 0, 12, 65531, 0, 12, 65532, 0, 12, 65533, 0, 12, 65534, 0, 12, 65535, 0, 12, 0, 0, 12, 1, 0, 12, 2, 0, 12, 3, 0, 12, 4, 0, 12, 5, 0, 12, 6, 0, 12, 7, 0, 12, 8, 0, 12, 9, 0, 12, 10, 0, 12, 11, 0, 12, 12, 0, 11, 12, 0, 10, 12, 0, 9, 12, 0, 8, 12, 0, 7, 12, 0, 6, 12, 0, 5, 12, 0, 4, 12, 0, 3, 12, 0, 2, 12, 0, 1, 12, 0, 0, 12, 0, 65535, 12, 0, 65534, 12, 0, 65533, 12, 0, 65532, 12, 0, 65531, 12, 0, 65530, 12, 0, 65529, 12, 0, 65528, 12, 0, 65527, 12, 0, 65526, 12, 0, 65525, 12, 0, 65524, 12, 0, 65530, 5, 0, 65530, 4, 0, 65530, 3, 0, 65531, 5, 0, 65532, 5, 0, 65533, 5, 0, 65534, 5, 0, 65535, 5, 0, 0, 5, 0, 1, 5, 0, 2, 5, 0, 5, 5, 0, 5, 4, 0, 5, 3, 0, 5, 2, 0, 5, 1, 0, 5, 0, 0, 5, 65535, 0, 5, 65534, 0, 5, 65533, 0, 5, 65532, 0, 5, 65531, 0, 65530, 2, 0, 65530, 1, 0, 65530, 65534, 0, 65530, 65533, 0, 65530, 65532, 0, 65530, 65531, 0, 65530, 65530, 0, 65531, 65530, 0, 65532, 65530, 0, 65533, 65530, 0, 65534, 65530, 0, 65535, 65530, 0, 0, 65530, 0, 1, 65530, 0, 2, 65530, 0, 5, 65530, 0, 5, 6, 0, 5, 7, 0, 5, 8, 0, 5, 9, 0, 2, 6, 0, 2, 7, 0, 2, 8, 0, 2, 9, 0, 65535, 9, 0, 65534, 9, 0, 65533, 9, 0, 65532, 9, 0, 65531, 9, 0, 65530, 9, 0, 65530, 8, 0, 65530, 6, 0, 65529, 1, 1376256, 65529, 65534, 1376256, 65526, 1, 1376256, 65526, 2, 1376256, 65526, 3, 1376256, 65526, 4, 1376256, 65526, 5, 1376256, 65526, 6, 1376256, 65526, 9, 1376256, 65526, 10, 1376256, 65526, 11, 1376256, 65526, 65534, 1376256, 65525, 6, 1376256, 65524, 6, 1376256, 65526, 65533, 1376256, 65526, 65532, 1376256, 65526, 65531, 1376256, 65526, 65530, 1376256, 65530, 65529, 1376256, 65530, 65524, 1376256, 65530, 65525, 1376256, 65530, 65528, 1376256, 2, 11, 589824, 2, 10, 589824, 65530, 10, 589824, 65526, 65526, 589824, 65527, 65526, 589824, 65524, 65530, 589824, 65525, 65530, 589824, 65527, 65527, 589824, 65526, 65527, 589824, 5, 65529, 589824, 5, 65528, 589824, 5, 65527, 589824, 5, 65526, 589824, 8, 8, 589824, 9, 8, 589824, 9, 7, 589824, 8, 7, 589824, 8, 2, 589824, 9, 2, 589824, 9, 1, 589824, 8, 1, 589824, 8, 65532, 589824, 9, 65532, 589824, 9, 65531, 589824, 8, 65531, 589824, 8, 65526, 589824, 9, 65526, 589824, 9, 65525, 589824, 8, 65525, 589824, 4, 0, 589824, 4, 65535, 589824, 3, 65535, 589824, 3, 0, 589824, 0, 65524, 589824, 0, 65525, 589824, 0, 65526, 589824, 0, 65527, 589824, 65533, 65529, 589824, 65533, 65528, 1376256, 65533, 65527, 786432, 65533, 65526, 786432)
}

[node name="GUI" parent="." unique_id=964619536 instance=ExtResource("5_v8kj3")]
